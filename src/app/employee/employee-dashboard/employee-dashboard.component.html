<app-employee-menu></app-employee-menu>

<div>

    <div class="container border mt-4 mb-4">
        <div class="d-flex flex-row justify-content-between p-3">
            <div class="d-flex flex-row">
                <h2>You are currently: </h2>
                &nbsp;
                <h1 *ngIf="isPunchedIn" disabled class="text-info">Punched In</h1>
                &nbsp;
                <h1 *ngIf="!isPunchedIn" disabled class="text-warning">Punched Out</h1>
            </div>

            <div class="d-flex flex-row mt-2"  data-toggle="tooltip" data-placement="bottom" title="Tooltip on bottom">
                <span class="material-icons">
                    timer
                </span>
                &nbsp;
                <h3>Working Hours: {{formattedPunchedinTime}}</h3>

            </div>


            <button *ngIf="isPunchedIn" class="btn btn-warning" (click)="AddPunch(false)">Punch Out</button>
            <button *ngIf="!isPunchedIn" class="btn btn-primary" (click)="AddPunch(true)">Punch In</button>
        </div>
    </div>

    <div class="container border mt-4 mb-4" style="height:400px; width: 500px;">
        <div>
            <canvas id="barChart" width="250" height="200"></canvas>
        </div>

        <!-- <div class="chart-container">
            <canvas id="MyChart">{{ chart }}</canvas>
        </div> -->
    </div>

    <div class="row" style="width: 90%; margin-left: 5%;">
        <div class="col">
            <div class="container border">
                <h1 class="p-3"> Currently Punched In Members</h1>

                <div style="height: 400px; overflow-y: scroll;">
                    <div class="container border mb-3 p-4" *ngFor="let punch of punchedInUsers" style="width: 95%;">
                        <div class="d-flex flex-row justify-content-between">
                            <h2>{{punch.userName}}</h2>


                            <h3>{{punch.punchDateTime | date: 'dd-MMM-yyyy h:mm a'}}</h3>

                            <span class="badge bg-success "
                                style="height: max-content;scale: 1.6; margin-right: 4%;">Punched In</span>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="container border">
                <h1 class="p-3"> Your Punches For Today !</h1>

                <div style="height: 400px; overflow-y: scroll;">
                    <div class="container border m-2 p-3 " *ngFor="let punchDetail of punchesForToday"
                        style="width: 95%; height: 50px;">
                        <div class="d-flex flex-row justify-content-between ">
                            <h2>{{punchDetail.userName}}</h2>


                            <h3>{{punchDetail.punchDateTime | date: 'dd-MMM-yyyy h:mm a'}}</h3>


                            <span *ngIf="punchDetail.punchStatus" class="badge  bg-success "
                                style="height: max-content;scale: 1.6; margin-right: 4%;">Punched In</span>
                            <span *ngIf="!punchDetail.punchStatus" class="badge  bg-danger "
                                style="height: max-content;scale: 1.6; margin-right: 4%;">Punched Out</span>
                        </div>

                    </div>
                </div>

            </div>
        </div>


    </div>
</div>